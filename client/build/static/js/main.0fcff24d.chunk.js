(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(79)},50:function(e,t,a){},52:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=(a(50),a(6)),l=a(7),i=a(9),u=a(8),d=a(10),m=(a(52),a(84)),h=a(85),p=a(83),E=a(82),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={likes:0},a.handleLike=function(e){a.setState(function(e){return{likes:e.likes+1}})},a.handleClick=function(e){a.props.history.push("/decks/".concat(a.props.deck.id))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"deck-div"},r.a.createElement("header",{className:"top-info"},r.a.createElement("span",null,this.props.deck.cards.length," terms")," ",r.a.createElement("span",{className:"username"},"HighScore: ",this.props.deck.highscore)),r.a.createElement("h4",{onClick:this.handleClick},this.props.deck.name),r.a.createElement("button",{onClick:this.handleLike},"Like"),r.a.createElement("p",null,this.state.likes)))}}]),t}(r.a.Component),b=a(12),g=a(81),v=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(g.a)(f);return r.a.createElement("div",{className:"decks-container"},r.a.createElement("h1",null,this.props.decks.length,r.a.createElement("br",null)," Study Sets and Counting."),r.a.createElement("br",null),r.a.createElement("div",{className:"card-deck"},this.props.decks.map(function(t){return r.a.createElement(e,{key:t.id,deck:t})})))}}]),t}(r.a.Component),C=Object(b.b)(function(e){return{decks:e.decks}})(v),S=function(){return r.a.createElement("div",{className:"home-page"},r.a.createElement("section",{className:"home-info"},r.a.createElement("div",{className:"home-self"},r.a.createElement("h1",null,"Simple tools",r.a.createElement("br",null),"for learning anything."),r.a.createElement("p",null,"Search hundreds of study sets or create your own to improve your grades. Create competitions with your friends to see who can get the most right."),r.a.createElement(E.a,{className:"get-started",to:"/decks/new"},"Get Started."))),r.a.createElement(C,null))},k=a(16),y=function(e){var t=e.value,a=e.onChange,n=e.onSubmit,c=e.placeholder,o=e.objectId,s=e.button;return r.a.createElement("form",{className:"input-form",onSubmit:n},r.a.createElement("input",{type:"hidden",value:o}),r.a.createElement("input",{className:"bottom-input",type:"text",value:t,placeholder:c,onChange:a}),r.a.createElement("input",{className:"bottom-submit",type:"submit",value:s}))},O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isHidden:!1},a.clickHint=function(){a.setState({isHidden:!a.state.isHidden})},a.handleSubmit=function(e){e.preventDefault(),a.setState({isHidden:!1}),a.props.onSubmit()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,this.props.card.question),this.state.isHidden&&r.a.createElement("p",null,this.props.card.hint),!this.state.isHidden&&r.a.createElement("button",{className:"hintButton",onClick:this.clickHint},"HINT"),r.a.createElement("section",{className:"card-buttons"},r.a.createElement("p",null,this.props.turn,"/",this.props.total)),r.a.createElement("footer",null,r.a.createElement(y,{value:this.props.value,onChange:this.props.onChange,onSubmit:this.handleSubmit,placeholder:"answer here...",objectId:this.props.card.id,button:"answer"})))}}]),t}(r.a.Component),j=function(e,t){return Math.floor(parseInt(e)/t*100)},N=function(e){var t=e.round,a=e.num,n=e.cards;return r.a.createElement("div",{className:"highscore-box"},r.a.createElement("div",{className:"highscore-num-box"},r.a.createElement("p",null,a)),r.a.createElement("div",{className:"highscore-info-box"},r.a.createElement("span",null,j(t.score,n),"%")," ",r.a.createElement("span",null,t.username)))};function w(e){return""===e?0:e.cards.length}var D=function(e){var t=e.deck;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"top-info"},r.a.createElement("span",null," ",w(t)," terms")," ",r.a.createElement("span",{className:"username"}," Highscore: ",t.highscore," "),r.a.createElement("h1",null,t.name),r.a.createElement("h6",null,t.description)),r.a.createElement("section",{className:"highscores"},r.a.createElement("h6",{className:"topscores"},"Top Scores:"),function(e){return""===e?null:e.topscores.length<1?"No Scores Yet":e.topscores.map(function(t,a){return r.a.createElement(N,{key:a,round:t,num:a+1,cards:w(e)})})}(t)))},_=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Start playing now!"),r.a.createElement("p",null,"Enter a username to start"),r.a.createElement("footer",null,r.a.createElement(y,{value:e.value,onChange:e.onChange,onSubmit:e.onSubmit,placeholder:"Username",objectId:e.deckId,button:"start game"})))},A=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Good Job ",e.round.username),r.a.createElement("p",null,"You scored ",e.round.score," out of ",e.total," right"),r.a.createElement("p",null,"Enter your username to play again"),r.a.createElement("footer",null,r.a.createElement(y,{value:e.value,onChange:e.onChange,onSubmit:e.onSubmit,placeholder:"Username",objectId:e.deckId,button:"play again"})))},R=a(13),I=a.n(R);var T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={roundStart:!1,roundEnd:!1,response:"",card:"",turn:1,deck:""},a.handleChange=function(e){a.setState({response:e.target.value})},a.startRound=function(e){console.log("username: ".concat(a.state.response)),e.preventDefault(),a.props.createRound(a.state),a.setState({roundStart:!0,response:"",card:a.state.deck.cards[0]})},a.compareScores=function(){a.props.round.score>=a.state.deck.highscore&&a.setState(Object(k.a)({},a.state,{deck:Object(k.a)({},a.state.deck,{highscore:a.props.round.score})}))},a.endGame=function(){a.compareScores(),a.setState({roundStart:!1,roundEnd:!0,round:null,response:"",card:a.state.deck.cards[0],turn:1})},a.nextTurn=function(){a.setState({response:"",card:a.state.deck.cards[a.state.turn],turn:a.state.turn+1})},a.answerSubmit=function(){a.props.createGuess(a.state,a.props.round),a.props.updateScore(a.state.response,a.state.card),a.state.turn===a.state.deck.cards.length?a.endGame():a.nextTurn()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3001/api/decks/".concat(this.props.match.params.id)).then(function(e){return e.json()}).then(function(t){return e.setState({deck:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"overlay"}),r.a.createElement("header",{className:"deck-page-header"},r.a.createElement(D,{deck:this.state.deck})),r.a.createElement("main",{className:"deck-body"},r.a.createElement("section",{className:"card-container"},!this.state.roundStart&&!this.state.roundEnd&&r.a.createElement(_,{value:this.state.response,onSubmit:this.startRound,onChange:this.handleChange,deckId:this.props.match.params.id}),this.state.roundStart&&r.a.createElement(O,{value:this.state.response,onChange:this.handleChange,onSubmit:this.answerSubmit,card:this.state.card,turn:this.state.turn,total:this.state.deck.cards.length}),!this.state.roundStart&&this.state.roundEnd&&r.a.createElement(A,{value:this.state.response,onSubmit:this.startRound,onChange:this.handleChange,round:this.props.round,total:this.state.deck.cards.length}))))}}]),t}(r.a.Component),x=Object(b.b)(function(e){return{round:e.round,guess:e.guess}},{createRound:function(e){return function(t){return I.a.post("http://localhost:3001/api/rounds",{username:e.response,deck_id:e.deck.id}).then(function(e){t({type:"CREATE_ROUND_SUCCESS",payload:e.data})}).catch(function(e){throw e})}},createGuess:function(e,t){return function(a){return I.a.post("http://localhost:3001/api/guesses",{card_id:e.card.id,round_id:t.id,response:e.response}).then(function(e){a({type:"CREATE_GUESS_SUCCESS",payload:e.data})}).catch(function(e){throw e})}},updateScore:function(e,t){return{type:"UPDATE_SCORE",guess:e,card:t}},updateHighscore:function(e,t){return{type:"UPDATE_DECK_HIGHSCORE",deckId:t,score:e}}})(T),H=a(39);function U(){var e=Object(H.a)(["\n  padding: 0.5em;\n  background-color: #2a1f2d;\n  position:fixed;\n  bottom:0;\n  width:100%;\n  height: 3em;\n"]);return U=function(){return e},e}var F=a(40).a.div(U()),q=a(21),G=a(11),L=function(e){return e.cards.map(function(e,t){var a="q-".concat(t),n="a-".concat(t),c="h-".concat(t);return r.a.createElement("div",{className:"cardInput",key:t},r.a.createElement("div",{className:"rightBorder"},r.a.createElement("input",{type:"text",name:a,"data-id":t,id:a,className:"question",autoComplete:"off"}),r.a.createElement("label",{htmlFor:"question"},"Question")),r.a.createElement("div",{className:"rightBorder"},r.a.createElement("input",{type:"text",name:n,"data-id":t,id:n,className:"answer",autoComplete:"off"}),r.a.createElement("label",{htmlFor:"answer"},"Answer")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:c,"data-id":t,id:c,className:"hint",autoComplete:"off"}),r.a.createElement("label",{htmlFor:"hint"},"Hint")))})};var K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cards:[{question:"",answer:"",hint:""},{question:"",answer:"",hint:""},{question:"",answer:"",hint:""},{question:"",answer:"",hint:""},{question:"",answer:"",hint:""}],name:"",description:""},a.addCard=function(e){e.preventDefault(),a.setState({cards:[].concat(Object(G.a)(a.state.cards),[{question:"",answer:"",hint:""}])})},a.handleChange=function(e){if(["question","answer","hint"].includes(e.target.className)){var t=Object(G.a)(a.state.cards);t[e.target.dataset.id][e.target.className]=e.target.value,a.setState({cards:t},function(){return console.log(a.state.cards)})}else a.setState(Object(q.a)({},e.target.name,e.target.value))},a.resetState=function(){a.setState({cards:[],name:"",description:""})},a.handleSubmit=function(e){e.preventDefault(),console.log("log","A"),a.props.createDeck({name:a.state.name,description:a.state.description}).then(function(e){console.log("log","test"),a.state.cards.forEach(function(t){return a.props.createCard(t,e.id)})}).then(function(){return a.resetState()}),console.log("log","B")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,n=e.cards;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"overlay"}),r.a.createElement("form",{className:"createNew",onSubmit:this.handleSubmit,onChange:this.handleChange},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",className:"deckInput",name:"name",id:"name",value:t,autoComplete:"off"}),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{type:"text",className:"deckInput",name:"description",id:"description",value:a,autoComplete:"off"}),r.a.createElement(L,{cards:n}),r.a.createElement("button",{className:"addCard",onClick:this.addCard},r.a.createElement("span",null,"  + ADD CARD  ")),r.a.createElement("button",{className:"addCard",type:"submit",onClick:this.createCardsAndDeck},r.a.createElement("span",null,"CREATE DECK"))))}}]),t}(r.a.Component),B=Object(b.b)(function(e){return{decks:e.decks}},{createDeck:function(e,t){return function(t){return I.a.post("http://localhost:3001/api/decks",e).then(function(e){return t({type:"CREATE_DECK_SUCCESS",payload:e.data}),e.data}).catch(function(e){throw e})}},createCard:function(e,t){return console.log("log","C"),function(a){return I.a.post("http://localhost:3001/api/cards",{deck_id:t,question:e.question,answer:e.answer,hint:e.hint}).then(function(e){console.log("log","D"),a({type:"CREATE_CARD_SUCCESS",payload:e.data})}).catch(function(e){throw e})}}})(K),J=function(){return r.a.createElement("div",{className:"notFound"},r.a.createElement("h1",null,"Whoops, this page doesn't exist"),r.a.createElement(E.a,{to:"/"},"Click here to see all our quizzes"))},M=function(e){return r.a.createElement("li",{className:e.className},r.a.createElement(E.a,{className:"nav-link",to:e.path},e.name,e.path===e.pageURI?r.a.createElement("span",{className:"sr-only"},"(current)"):""))},P=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-custom"},r.a.createElement(E.a,{className:"navbar-custom-brand",to:"/"},"Cerebral"),r.a.createElement("section",{className:"navbar-ul"},r.a.createElement("div",{className:"verticalLine"},r.a.createElement(M,{name:"create",path:"/decks/new",className:"navbar-ul"}))))},W=function(){return r.a.createElement(m.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:S}),r.a.createElement(p.a,{path:"/decks/new",component:B}),r.a.createElement(p.a,{path:"/decks/:id",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(p.a,{component:J})),r.a.createElement(F,null)))},z=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDecks(),this.props.fetchCards()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(W,null))}}]),t}(n.Component),Y=Object(b.b)(null,{fetchDecks:function(){return function(e){return e({type:"LOADING_DECKS"}),fetch("http://localhost:3001/api/decks").then(function(e){return e.json()}).then(function(t){return e({type:"FETCH_DECKS",payload:t})})}},fetchCards:function(){return function(e){return e({type:"LOADING_CARDS"}),fetch("http://localhost:3001/api/cards").then(function(e){return e.json()}).then(function(t){return e({type:"FETCH_CARDS",payload:t})})}}})(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(77);var Q=a(15),$=a(43);var V=Object(Q.c)({decks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DECKS":return Object(G.a)(e);case"FETCH_DECKS":return t.payload;case"CREATE_DECK_SUCCESS":return console.log("now im in redux"),[].concat(Object(G.a)(e),[t.payload]);case"CREATE_CARD_SUCCESS":var a=e.findIndex(function(e){return e.id===t.payload.deck_id});return[].concat(Object(G.a)(e.slice(0,a)),[Object(k.a)({},e[a],{cards:[].concat(Object(G.a)(e[a].cards),[t.payload])})],Object(G.a)(e.slice(a+1)));default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_CARDS":return Object(G.a)(e);case"FETCH_CARDS":return t.payload;case"CREATE_CARD_SUCCESS":return[].concat(Object(G.a)(e),[t.payload]);default:return e}},round:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ROUND_SUCCESS":return t.payload;case"UPDATE_SCORE":var a=t.guess.toLowerCase()===t.card.answer.toLowerCase()?1:0;return Object(k.a)({},e,{score:e.score+a});default:return e}},guess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_GUESS_SUCCESS":return t.payload;default:return e}}}),X=Object(Q.a)($.a),Z=Object(Q.d)(V,X);o.a.render(r.a.createElement(b.a,{store:Z},r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,2,1]]]);
//# sourceMappingURL=main.0fcff24d.chunk.js.map